# Locka

ローカル完結のパスワード管理アプリ

## Run
python app.py

## Version 1
- 追加・削除・IDコピー・PWコピー・保存(ダミー)まで実装済み

## Version 2

### データ管理
- items を JSON に保存
- 起動時に JSON を読み込んで復元

### 操作フロー
- 追加 → 保存までの一貫処理
- 削除 → 保存までの一貫処理
- 編集機能の追加
- 未保存状態で終了しようとした場合の警告表示

### 表示・再描画
- Listbox 再描画ロジックを整理
- データ変更時の表示ズレを防止

### 検索・操作性
- 検索機能の追加
- 選択状態がない場合の操作ガード実装

### GUI / UI改善
- Frame + grid による全体レイアウト整理  
  - 上：検索・リスト表示  
  - 下：操作ボタン群
- フォント・余白・ボタンサイズの統一
- 検索バー配置と視認性改善
- ラベル・区切り線による視認性向上
- シンプル配色＋アクセントカラーによるデザイン改善

## Version 3（セキュリティ設計）

Version 3 では、Locka をローカル専用パスワード管理アプリとして
**現実的な脅威に対して十分な安全性を確保する**ことを目的に、
セキュリティ機能の実装を行う。

---

### 想定する脅威モデル

本アプリでは、以下の前提・脅威を想定している。

#### 想定する脅威
- PC が第三者により遠隔操作・不正アクセスされた場合
- 保存ファイル（データファイル）のみが外部に流出した場合

#### 想定しない脅威
- アプリ実行中に PC 自体が完全に乗っ取られている状態
- 物理的な覗き見や第三者による直接操作
- ネットワーク経由での攻撃（本アプリはネットワーク通信を行わない）

---

### セキュリティ方針

- **保存データの暗号化（at rest）**を行う  
  → ファイルが流出しても内容を読み取れないようにする
- **起動時にマスターパスワードを要求**する  
  → 正しいパスワードがなければ復号・起動できない
- **マスターパスワードは保存しない**
- **暗号処理には実績のあるライブラリを使用**し、自作暗号は行わない

---

### 採用技術・方式

- 暗号化ライブラリ：`cryptography`
- 暗号化方式：Fernet（AESベースの認証付き暗号）
- 鍵生成：マスターパスワードから鍵を生成（KDF使用）
- 保存形式：
  - 平文データ（JSON）は保存しない
  - 暗号化されたファイル（例：`locka.enc`）のみを保存

---

### 制限事項・割り切り

- アプリ実行中に OS が不正操作されている場合、
  メモリ上や画面表示中の情報を完全に防御することはできない
- 本アプリは「ローカル専用・個人利用」を前提とした設計であり、
  その範囲内で UX と安全性のバランスを取っている

---

### データ管理について

- 実データファイル（暗号化ファイル）は Git 管理対象外とする
- `.gitignore` により、誤ってコミットされることを防止する


